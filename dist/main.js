(()=>{const e=document.querySelector(".addt"),t=document.querySelector(".add"),n=document.querySelector(".side > div > div"),d=(document.querySelector(".tasks"),document.querySelector(".tasks > div")),i=document.querySelector(".tab"),s=document.querySelector(".Inbox");let o="Inbox",c=[];function l(e,t,n,d,i,s){this.index=e,this.task=t,this.description=n,this.priority=d,this.sub_tasks=i,this.dead_line=s}function r(){let e=document.createElement("div");const t=document.querySelector("."+o);e.innerHTML='<div class="task">\n        <div>\n            <input class="subj" type=\'text\'>\n            <div>\n            <label for="priority">priority: </label>\n                <select name="priority" class="prio">\n                    <option>high</option>\n                    <option>medium</option>\n                    <option>low</option>\n                </select>\n                <div>\n                    <input class="dead" type=\'date\'>\n                </div>\n            </div>\n        </div>\n        <div class="btns">\n            <button class="addd">+ Add Description</button>\n            <button class="adds">+ Add Sub Task</button>\n            <button class="done">Done</button>\n        </div>\n    </div>',t.appendChild(e);const n=e.querySelector(".addd"),d=e.querySelector(".adds"),i=e.querySelector(".done");n.addEventListener("click",(()=>a(n)),{once:!0}),d.addEventListener("click",(()=>function(e){let t=document.createElement("div");t.classList.add("sub"),t.innerHTML='<div>\n    <input type="checkbox" name="sub">\n    <label for="sub"><input type="text" class="subt"></label>\n    </div>\n    <img src="icons/delete.svg">',e.before(t)}(d))),i.addEventListener("click",(()=>function(e,t){const n=t.querySelector(".subj"),d=t.querySelector(".des"),i=t.querySelectorAll(".subt"),s=t.querySelector(".dead");let o=[],r="",a=document.createElement("div");void 0!==d&&null!=d&&(r=d.value),void 0!==i&&null!=i&&i.forEach((e=>{o.push(e.value)}));let u,v=s.value.split("-");u=void 0===v[0]||void 0===v[1]||void 0===v[2]?"":v[0]+"/"+v[1]+"/"+v[2];let p=new l(c.length,n.value,r,"low",u);c.push([p,t]),t.innerHTML=`<div class="task">\n        <div>\n            <p> ${p.task} </p>\n            <div>\n                <div>\n                    <p>${u}</p>\n                </div>\n                <img src="icons/chevron-down.svg">\n                <img src="icons/pencil.svg">\n                <img src="icons/delete.svg" class="remtask">\n            </div>\n        </div>\n        <div class="btns">\n            <div class="des"> ${p.description} </div>\n        </div>\n    </div>`;for(let e=0;e<o.length;e++){let t=document.createElement("div");t.innerHTML=`<div>\n        <input type="checkbox" name="sub">\n        <label for="sub"> ${o[e]} </label>\n        </div>\n        <img src="icons/delete.svg" class=""remsub>`,t.classList.add("sub"),a.appendChild(t)}const m=t.querySelector(".btns");t.querySelector(".remtask").addEventListener("mousedown",(()=>function(e){for(let t=e.index+1;t<c.length;t++)c[t][0].index--;c[e.index][1].remove(),c.splice(e.index,1),console.log(c)}(p))),m.appendChild(a),e.appendChild(t)}(t,e)))}function a(e){let t=document.createElement("textarea");t.classList.add("des"),e.before(t),e.textContent="- Remove Description",e.addEventListener("click",(()=>function(e,t){t.remove(),e.textContent="+ Add Description",e.addEventListener("click",(()=>a(e)),{once:!0})}(e,t)),{once:!0})}function u(e,t){const n=document.querySelectorAll(".tab"),d=document.querySelectorAll(".holder");n.forEach((e=>{e.classList.remove("selected")})),"Inbox"==e.textContent?(d.forEach((e=>{e.style.display="grid"})),e.classList.add("selected"),o=e.textContent):(d.forEach((e=>{e.style.display="none"})),t.style.display="grid",e.classList.add("selected"),o=e.textContent)}i.addEventListener("click",(()=>u(i,s))),e.addEventListener("click",(()=>function(){let e=document.createElement("button"),t=document.createElement("div"),i=prompt("tab name:");e.classList.add("tab"),e.textContent=i,t.classList.add("holder"),t.classList.add(i),e.addEventListener("click",(()=>u(e,t))),n.appendChild(e),d.appendChild(t)}())),t.addEventListener("click",(()=>r()))})();